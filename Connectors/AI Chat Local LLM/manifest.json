{
    "@visokiotype": "CustomBlockSchema.CustomBlockManifest",
    "name": "AI Chat - Local LLM",
    "scriptFilename": "script.py",
    "language": "PYTHON",
    "executableVersion": null,
    "minVersions": [
        null
    ],
    "optionsVersion": 1,
    "apiVersion": "VERSION_0",
    "isResourceIntensiveScript": false,
    "showPartitioning": false,
    "icon": "data:image/png;base64,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",
    "description": "Executes a one-off prompt to a local LLM and returns the generated text result",
    "category": "Code & AI",
    "subcategory": null,
    "tags": [ 
        "LLM",
        "NLP"
    ],
    "introductoryText": "![LLM](data:image/png;base64,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)\n### AI Chat with Local LLM\n#### Executes a one-off prompt request for each row in the input block, and outputs the results using a local LLM model compatible with the OpenAI API.\n\n#### You can use this block to chat with a local LLM model like *LLamafile AI*. See instructions [here](https://github.com/Mozilla-Ocho/llamafile?tab=readme-ov-file#quickstart)",
    "dependencies": "openai",
    "options": [
        {
            "name": "ModelEndpoint",
            "title": "Endpoint",
            "description": "An OpenAI-compatible endpoint, e.g. when using LLamafile locally -> http://localhost:8080/v1",
            "groupTitle": null,
            "width": "ONE_AND_HALF",
            "@visokiotype": "CustomBlockSchema.TextCustomBlockPublicOption",
            "mandatory": true
        },
        {
            "name": "Model",
            "title": "Model",
            "description": "E.g. LLaMA_CPP",
            "groupTitle": null,
            "width": "ONE",
            "@visokiotype": "CustomBlockSchema.TextCustomBlockPublicOption",
            "mandatory": true,
            "defaultValue": "LLaMA_CPP"
        },
        {
            "name": "Temperature",
            "title": "Temperature",
            "description": "The model temperature typically from 0 to 1",
            "groupTitle": null,
            "width": "ONE",
            "@visokiotype": "CustomBlockSchema.DoubleCustomBlockPublicOption",
            "numMin": 0,
            "numMax": 1,
            "mandatory": true,
            "defaultValue": 0.8,
            "showAsSlider": true
        },
        {
            "name": "SystemPrompt",
            "title": "System Prompt",
            "description": "Helps set the behavior of the model / AI assistant",
            "groupTitle": null,
            "width": "ONE",
            "@visokiotype": "CustomBlockSchema.FieldCustomBlockPublicOption",
            "mandatory": false,
            "inputIndex": 0,
            "defaultValue": null,
            "fieldTypes": []
        },
        {
            "name": "Prompt",
            "title": "User Prompt",
            "description": "Point to the field that contains the prompt to execute",
            "groupTitle": null,
            "width": "ONE_AND_HALF",
            "@visokiotype": "CustomBlockSchema.FieldCustomBlockPublicOption",
            "mandatory": true,
            "inputIndex": 0,
            "defaultValue": null,
            "fieldTypes": []
        }
    ],
    "blockOutputs": [
        {
            "@visokiotype": "CustomBlockSchema.BlockOutputPublicOption",
            "id": "Output Data",
            "label": "1",
            "displayName": "Output",
            "tooltip": null
        }
    ],
    "docker": {
        "@visokiotype": "CustomBlockSchema.DockerCustomBlockPublicOption",
        "customBaseImage": null,
        "useCustomBaseImage": false,
        "customSystemLibraries": null,
        "installVisokioRepLibraries": false
    },
    "designLock": true,
    "apiMode": "BATCH"
}
